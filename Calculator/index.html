<html><header>
    <title>128-Bit Calculator</title>
    <link rel="stylesheet" href="../styles/VFMS/indexVFMS.css">
</header>

<head><button onclick="window.location.href='../VFMS/'">File Mangement System</button></head>

<body>
    <div id='calculator'>
                <label>Number 1:</label>
                <input id="num1" type="text">
                <br>
                <label>Number 2:</label>
                <input id="num2" type="text">
                <br>
                <button onclick="calc()">Multiply</button>
                <div id="ans" style="display: none;">
                <label id="peter">Answer:      </label>
                </div>
</div>
</body>
<script type="text/javascript">
    function calculate(x, y) {
        var base = 10;


        if ((x < base) || (y < base)) {
            return x * y;
        }

        var num1 = x.toString();
        var num2 = y.toString();

        var n = (num1.length > num2.length) ? num2.length : num1.length;
        var m = Math.round(n / 2);

        var high1 = parseInt(num1.substring(0, num1.length - m));
        var low1 = parseInt(num1.substring(num1.length - m, num1.length));

        var high2 = parseInt(num2.substring(0, num2.length - m));
        var low2 = parseInt(num2.substring(num2.length - m, num2.length));


        var z0 = calculate(low1, low2);
        var z1 = calculate(low1 + high1, low2 + high2);
        var z2 = calculate(high1, high2);

        var res = (z2 * Math.pow(10, 2 * m)) + ((z1 - z2 - z0) * Math.pow(10, m)) + z0;

        return res;

    }

    function calc() {
        var start = new Date().getTime();
        var product = calculate(document.getElementById('num1').value,document.getElementById('num2').value);
        var end = new Date().getTime();
	document.getElementById("peter").innerHTML ="Answer: " + product ;
	document.getElementById("ans").style.display = "block";
    }
//    document.write(product + "<br> It took " + (end - start) + " ms to calculate.");

</script>
</html>
